<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Projeto-Music</title>

  <!-- Favicon e ícones para instalação -->
  <link rel="icon" href="icons/icon-192.png" type="image/png" />
  <link rel="apple-touch-icon" href="icons/icon-192.png" />
  <meta name="theme-color" content="#a67c33" />
  <link rel="manifest" href="manifest.json" />

  <!-- PDF.js -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.min.js"></script>

  <!-- Estilo -->
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="banner"></div>
  <main>
    <input type="file" id="fileInput" accept="application/pdf" multiple hidden />

    <select id="artistFilter" class="artist-filter" aria-label="Filtrar por artista">
      <option value="">🎤 Todos os Artistas</option>
    </select>

    <select id="collectionFilter" class="collection-filter" aria-label="Filtrar por coleção">
      <option value="">📁 Todas as Coleções</option>
    </select>

    <button class="upload-btn" onclick="document.getElementById('fileInput').click()">📄 Importar PDFs</button>
    <button class="sort-btn" onclick="toggleSort()">📂 Mostrar: <span id="sortType">Todos</span></button>
    <button class="sort-btn" onclick="toggleDarkMode()">🌙 Modo Escuro</button>

    <input
      type="text"
      id="searchBar"
      class="search-bar"
      placeholder="Buscar cifra..."
      autocomplete="off"
      aria-label="Buscar cifra"
    />

    <div class="file-list" id="fileList"></div>

    <div id="mobile-warning" style="display:none; color:red; margin-top:1rem; text-align:center;">
      ⚠️ No seu dispositivo pode ser possível importar apenas 2 PDFs por vez.<br>
      Para adicionar mais arquivos, repita a importação.
    </div>
  </main>

  <script src="script.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.register('sw.js')
        .then(() => console.log('✅ Service Worker registrado!'))
        .catch(err => console.error('❌ Erro ao registrar Service Worker:', err));
    }

    // Aviso para tablets/iOS que podem limitar a importação a 2 PDFs
    const userAgent = navigator.userAgent.toLowerCase();
    if (/ipad|iphone|android/.test(userAgent)) {
      document.getElementById('mobile-warning').style.display = 'block';
    }
  </script>
</body>
</html>